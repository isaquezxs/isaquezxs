-- Tela de Carregamento Shadow hubBrookhaven - Estilizada
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Criando a ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FireHubLoading"
screenGui.Parent = playerGui

-- Fundo da tela
local background = Instance.new("Frame")
background.Size = UDim2.new(1,0,1,0)
background.Position = UDim2.new(0,0,0,0)
background.BackgroundColor3 = Color3.fromRGB(20,20,20)
background.BorderSizePixel = 0
background.Parent = screenGui

-- T√≠tulo SHADOW HUB
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1,0,0,100)
title.Position = UDim2.new(0,0,0.25,0)
title.BackgroundTransparency = 1
title.Text = "SHADOW SCRIPTS"
title.Font = Enum.Font.GothamBlack
title.TextSize = 60
title.TextColor3 = Color3.fromRGB(255,85,0)
title.Parent = background
title.TextScaled = true

-- Barra de carregamento com fundo
local barBackground = Instance.new("Frame")
barBackground.Size = UDim2.new(0.6,0,0,30)
barBackground.Position = UDim2.new(0.2,0,0.55,0)
barBackground.BackgroundColor3 = Color3.fromRGB(50,50,50)
barBackground.BorderSizePixel = 0
barBackground.Parent = background

-- Barra de preenchimento
local barFill = Instance.new("Frame")
barFill.Size = UDim2.new(0,0,1,0)
barFill.BackgroundColor3 = Color3.fromRGB(255,85,0)
barFill.BorderSizePixel = 0
barFill.Parent = barBackground

-- Gradiente na barra
local gradient = Instance.new("UIGradient")
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255,85,0)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(255,180,0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255,85,0))
}
gradient.Rotation = 45
gradient.Parent = barFill

-- Texto de carregamento
local loadingText = Instance.new("TextLabel")
loadingText.Size = UDim2.new(1,0,0,30)
loadingText.Position = UDim2.new(0,0,0.62,0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "Carregando..."
loadingText.Font = Enum.Font.Gotham
loadingText.TextSize = 28
loadingText.TextColor3 = Color3.fromRGB(255,255,255)
loadingText.Parent = background

-- Fun√ß√£o para animar a barra
local function animateBar(duration)
    local startTime = tick()
    while tick() - startTime < duration do
        local progress = (tick() - startTime) / duration
        barFill.Size = UDim2.new(progress,0,1,0)
        task.wait(0.03)
    end
    barFill.Size = UDim2.new(1,0,1,0)
end

-- Fun√ß√£o para piscar o texto
spawn(function()
    while screenGui.Parent do
        loadingText.TextTransparency = 0.3
        task.wait(0.5)
        loadingText.TextTransparency = 0
        task.wait(0.5)
    end
end)

-- Executa anima√ß√£o por 3 segundos
animateBar(3)

-- Remove tela ap√≥s carregar
task.wait(0.5)
screenGui:Destroy()

-- Servi√ßos
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local cam = workspace.CurrentCamera

-- Carrega a biblioteca UI Redz AP√ìS a tela de loading
local success, redzlib = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()
end)

if not success then
    warn("Erro ao carregar a biblioteca UI")
    return
end

local Window = redzlib:MakeWindow({
    Title = "Shadow Hub | Brookhaven üè°",
    SubTitle = "by isaquexz",
    SaveFolder = "ShadowHubBrookhaven"
})

Window:AddMinimizeButton({
    Button = { Image = "rbxassetid://71014873973869", BackgroundTransparency = 0 },
    Corner = { CornerRadius = UDim.new(35, 1) },
})

-- Tab1: Credits
local Tab1 = Window:MakeTab({"Credits", "info"})

Tab1:AddDiscordInvite({
    Name = "Shadow Hub",
    Description = "Join server",
    Logo = "rbxassetid://18751483361",
    Invite = "https://discord.gg/tsxKumHC",
})

Window:SelectTab(Tab1)

local Section = Tab1:AddSection({"Cr√©ditos"})

Tab1:AddParagraph({"Criador", "isaquexsz"})
Tab1:AddParagraph({"Vers√£o", "BETA V1"})
Tab1:AddParagraph({"Executor", "KRNL/Synapse"})
Tab1:AddParagraph({"Jogadores Online", tostring(#game.Players:GetPlayers())})

-- Tab2: Fun√ß√µes Principais
local Tab2 = Window:MakeTab({"Main", "Home"})

Tab2:AddSection({"Verifique usu√°rios Shadow"})

Tab2:AddButton({"/Verifique", function()
    local TextChatService= game:GetService("TextChatService")
    local StarterGui = game:GetService("StarterGui")
    
    local function safeChat(message)
        local success = pcall(function()
            if TextChatService and TextChatService.TextChannels then
                local channel = TextChatService.TextChannels.RBXGeneral
                if channel then
                    channel:SendAsync(message)
                end
            else
                game.Players:Chat(message)
            end
        end)
        return success
    end
    
    local results = {
        safeChat("/Verifique"),
        safeChat("Shadow_###")
    }
    
    local successCount = 0
    for _, result in ipairs(results) do
        if result then successCount = successCount + 1 end
    end
    
    StarterGui:SetCore("SendNotification", {
        Title = "Verifica√ß√£o",
        Text = string.format("%d/%d comandos enviados!", successCount, #results),
        Duration = 5
    })
end})

-- Tab3: Troll
local Tab3 = Window:MakeTab({"Troll", "skull"})

Tab3:AddSection({"Troll"})

-- Vari√°veis globais otimizadas
local selectedPlayerName = nil
local methodKill = ""
local flingActive = false

-- Fun√ß√£o para obter lista de jogadores (otimizada)
local function getPlayerList()
    local players = Players:GetPlayers()
    local playerNames = {}
    for _, player in ipairs(players) do
        if player ~= LocalPlayer then
            table.insert(playerNames, player.Name)
        end
    end
    return playerNames
end

-- Dropdown para selecionar jogador
local killDropdown = Tab3:AddDropdown({
    Name = "Selecionar Jogador",
    Description = "Escolha um jogador para trollar",
    Options = getPlayerList(),
    Default = "",
    Callback = function(value)
        selectedPlayerName = value
        getgenv().Target = value
        game.StarterGui:SetCore("SendNotification", {
            Title = "Jogador Selecionado",
            Text = value .. " selecionado!",
            Duration = 3
        })
    end
})

-- Bot√£o para atualizar lista de jogadores
Tab3:AddButton({
    Name = "Atualizar Player List",
    Callback = function()
        local newPlayers = getPlayerList()
        if killDropdown then
            killDropdown:Set(newPlayers)
        end
        game.StarterGui:SetCore("SendNotification", {
            Title = "Lista Atualizada",
            Text = "Lista de jogadores atualizada!",
            Duration = 3
        })
    end
})

-- Fun√ß√£o Spectar Jogador (otimizada)
Tab3:AddToggle({
    Name = "Spectar Player",
    Default = false,
    Callback = function(value)
        local Camera = workspace.CurrentCamera

        if value then
            if getgenv().CameraConnection then
                getgenv().CameraConnection:Disconnect()
            end
            
            getgenv().CameraConnection = RunService.Heartbeat:Connect(function()
                if value and selectedPlayerName then
                    local targetPlayer = Players:FindFirstChild(selectedPlayerName)
                    if targetPlayer and targetPlayer.Character then
                        local humanoid = targetPlayer.Character:FindFirstChild("Humanoid")
                        if humanoid then
                            Camera.CameraSubject = humanoid
                            return
                        end
                    end
                end
                if LocalPlayer.Character then
                    local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                    if humanoid then
                        Camera.CameraSubject = humanoid
                    end
                end
            end)
        else
            if getgenv().CameraConnection then
                getgenv().CameraConnection:Disconnect()
                getgenv().CameraConnection = nil
            end
            if LocalPlayer.Character then
                local humanoid = LocalPlayer.Character:FindFirstChild("Humanoid")
                if humanoid then
                    Camera.CameraSubject = humanoid
                end
            end
        end
    end
})-- Bot√£o para teleportar at√© o jogador
Tab3:AddButton({
    Name = "Teleportar at√© o Player",
    Callback = function()
        if not selectedPlayerName then return end
        
        local character = LocalPlayer.Character
        local humanoidRootPart = character and character:FindFirstChild("HumanoidRootPart")
        if not humanoidRootPart then return end

        local targetPlayer = Players:FindFirstChild(selectedPlayerName)
        if targetPlayer and targetPlayer.Character and targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
            humanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
            game.StarterGui:SetCore("SendNotification", {
                Title = "TP Conclu√≠do",
                Text = "Teleportado at√© " .. selectedPlayerName,
                Duration = 5
            })
        end
    end
})

Tab3:AddSection({""})

-- Se√ß√£o Fling
Tab3:AddSection({Name = "Fling e kill"})

-- Auto Fling otimizado
Tab3:AddToggle({
    Name = "Auto Fling",
    Default = false,
    Callback = function(state)
        flingActive = state
        if state and selectedPlayerName then
            local target = Players:FindFirstChild(selectedPlayerName)
            if not target or not target.Character then return end
            
            local root = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            local tRoot = target.Character and target.Character:FindFirstChild("HumanoidRootPart")
            if not root or not tRoot then return end
            
            local char = LocalPlayer.Character
            local hum = char:FindFirstChildOfClass("Humanoid")
            local original = root.CFrame

            -- Limpar ferramentas
            ReplicatedStorage.RE["1Clea1rTool1s"]:FireServer("ClearAllTools")
            task.wait(0.2)

            -- Spawnar sof√°
            ReplicatedStorage.RE:FindFirstChild("1Too1l"):InvokeServer("PickingTools", "Couch")
            task.wait(0.3)
            
            local tool = LocalPlayer.Backpack:FindFirstChild("Couch")
            if tool then
                tool.Parent = char
            end
            
            task.wait(0.2)
            -- Simular tecla F
            game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.F, false, game)
            task.wait(0.25)

            -- Configurar fling
            local bv = Instance.new("BodyVelocity")
            bv.Name = "FlingForce"
            bv.Velocity = Vector3.new(9e8, 9e8, 9e8)
            bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
            bv.Parent = root
            
            hum:SetStateEnabled(Enum.HumanoidStateType.Seated, false)
            hum.PlatformStand = false

            -- Loop de fling
            task.spawn(function()
                while flingActive and target and target.Character do
                    local tHum = target.Character:FindFirstChildOfClass("Humanoid")
                    if tHum and tHum.Sit then break end
                    
                    local targetPos = tRoot.Position + (tRoot.Velocity / 1.5)
                    root.CFrame = CFrame.new(targetPos) * CFrame.Angles(math.rad(tick() * 100), 0, 0)
                    
                    root.Velocity = Vector3.new(9e8, 9e8, 9e8)
                    task.wait()
                end
                
                -- Cleanup
                if bv then bv:Destroy() end
                hum:SetStateEnabled(Enum.HumanoidStateType.Seated, true)
                hum.PlatformStand = false
                if root then root.CFrame = original end
                
                -- Limpar ferramentas
                ReplicatedStorage.RE["1Clea1rTool1s"]:FireServer("ClearAllTools")
            end)
        end
    end
})

-- Tab4: Scripts Trolls 
local Tab4 = Window:MakeTab({"Scripts Trolls", "fire"})

Tab4:AddSection({"Invisibilidade"})

Tab4:AddButton({"Ficar Invis√≠vel", function()
    local character = LocalPlayer.Character
    if character then
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Transparency = 1
            end
        end
    end
end})

Tab4:AddButton({"Voltar ao Normal", function()
    local character = LocalPlayer.Character
    if character then
        for _, part in pairs(character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Transparency = 0
            end
        end
    end
end})

-- Tab5: Sistema de √Åudio (OTIMIZADO)
local Tab5 = Window:MakeTab({"Audio", "radio"})

local loopAtivo = false
local InputID = ""

Tab5:AddTextBox({
    Name = "ID do √Åudio",
    Description = "Digite o ID do som",
    Default = "",
    PlaceholderText = "Exemplo: 6832470734",
    ClearTextOnFocus = true,
    Callback = function(text)
        InputID = text
    end
})

local function playSound(soundId)
    if not soundId or soundId == "" then return end
    
    pcall(function()
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxassetid://" .. soundId
        sound.Parent = workspace
        sound:Play()
        game.Debris:AddItem(sound, 10)
    end)
end

Tab5:AddButton({
    Name = "Tocar Som",
    Description = "Toca o som inserido",
    Callback = function()
        if InputID and InputID ~= "" then
            playSound(InputID)
        end
    end
})

Tab5:AddToggle({
    Name = "Loop do Som",
    Description = "Toca em loop",
    Default = false,
    Callback = function(value)
        loopAtivo = value
        if value then
            task.spawn(function()
                while loopAtivo do
                    if InputID and InputID ~= "" then
                        playSound(InputID)
                    end
                    task.wait(3)
                end
            end)
        end
    end
})

-- Sons de memes reduzidos (apenas os principais)
Tab5:AddSection({"Sons de Memes"})

local memeSounds = {
    {name = "pankapakan", id = "122547522269143"},
    {name = "Gemido r√°pido", id = "128863565301778"},
    {name = "skibidi", id = "128771670035179"},
    {name = "miau", id = "131804436682424"},
    {name = "receba", id = "94142662616215"},
    {name = "OH MY GOD", id = "73349649774476"}
}

for _, sound in ipairs(memeSounds) do
    Tab5:AddButton({
        Name = sound.name,
        Callback = function()
            playSound(sound.id)
        end
    })
end

-- Tab6: RGB
local Tab6 = Window:MakeTab({"RGB", "rainbow"})

Tab6:AddSection({"Cabelo RGB"})

local hairRGB = false

Tab6:AddToggle({
    Name = "Cabelo RGB",
    Description = "Deixa Seu Cabelo RGB",
    Default = false,
    Callback = function(value)
        hairRGB = value
        if value then
            task.spawn(function()
                local colors = {
                    Color3.new(1, 0, 0),
                    Color3.new(0, 1, 0), 
                    Color3.new(0, 0, 1),
                    Color3.new(1, 1, 0),
                    Color3.new(1, 0, 1),
                    Color3.new(0, 1, 1)
                }
                local i = 1
                while hairRGB do
                    local args = { [1] = "ChangeHairColor2", [2] = colors[i] }
                    pcall(function()
                        ReplicatedStorage.RE["1Max1y"]:FireServer(unpack(args))
                    end)
                    task.wait(0.3)
                    i = i % #colors + 1
                end
            end)
        end
    end
})

-- Nova Aba: House (simplificada)
local Tab7 = Window:MakeTab({"House", "house"})

Tab7:AddButton({
    Name = "Remover Ban",
    Description = "Remove banimento de todas as casas",
    Callback = function()  -- ‚Üê CORRIGIDO: removido o "q"
        local successCount = 0
        local housesChecked = 0
        
        for i = 1, 37 do
            local bannedBlockName = "BannedBlock" .. i
            local bannedBlock = Workspace:FindFirstChild(bannedBlockName, true)
            
            if bannedBlock then
                local success = pcall(function()
                    bannedBlock:Destroy()
                end)
                
                if success then
                    successCount = successCount + 1
                end
                housesChecked = housesChecked + 1
            end
        end
        
        -- Notifica√ß√£o de resultado
        game.StarterGui:SetCore("SendNotification", {
            Title = "Remo√ß√£o de Ban",
            Text = string.format("Sucesso em %d/%d casas", successCount, housesChecked),
            Duration = 5
        })
    end
})